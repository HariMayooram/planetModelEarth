var ns=Object.defineProperty;var rs=(e,l,t)=>l in e?ns(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t;var U=(e,l,t)=>rs(e,typeof l!="symbol"?l+"":l,t);import{c as is,r as os,n as as,g as ls,E as cs,b as ds,d as us,e as fs,p as hs,N as ps,A as gs,f as ms,h as Es,S as ys,D as bs,i as Ns,j as Ps,k as As,l as Ts,m as xs,o as Is,q as ws,t as Ss,u as vs,v as Cs,w as Rs,x as _s,y as Os,C as ks,z as $s,B as Fs,F as Vs,G as Ls,H as qs,I as Us,J as Ws,K as Bs,L as Ms,M as zs,O as Hs,P as Xs,Q as js,R as Gs,T as Ks,U as St,V as Js,W as Z,a as vt,X as Ct}from"./index-VRAGdaip.js";import{t as Zs,f as Ys,a as Qs,b as Ds,s as en,F as tn,H as sn,v as Rt,e as q,d as nn,w as rn,h as _t}from"./index-DPAlJ-ww.js";function nt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(l){return"%"+l.charCodeAt(0).toString(16).toUpperCase()})}const on=(e,l)=>{for(const t of Object.keys(e)){const u=e[t],E=async function(i,r,a){const n=new u(i);if(typeof r=="function")this.send(n,r);else if(typeof a=="function"){if(typeof r!="object")throw new Error(`Expected http options but got ${typeof r}`);this.send(n,r||{},a)}else return this.send(n,r)},T=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");l.prototype[T]=E}},Ot=e=>{const l="#text";for(const t in e)e.hasOwnProperty(t)&&e[t][l]!==void 0?e[t]=e[t][l]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=Ot(e[t]));return e};var ce={},de={},rt;function He(){return rt||(rt=1,function(e){const l=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=l+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",u="["+l+"]["+t+"]*",E=new RegExp("^"+u+"$"),T=function(r,a){const n=[];let s=a.exec(r);for(;s;){const y=[];y.startIndex=a.lastIndex-s[0].length;const h=s.length;for(let w=0;w<h;w++)y.push(s[w]);n.push(y),s=a.exec(r)}return n},i=function(r){const a=E.exec(r);return!(a===null||typeof a>"u")};e.isExist=function(r){return typeof r<"u"},e.isEmptyObject=function(r){return Object.keys(r).length===0},e.merge=function(r,a,n){if(a){const s=Object.keys(a),y=s.length;for(let h=0;h<y;h++)n==="strict"?r[s[h]]=[a[s[h]]]:r[s[h]]=a[s[h]]}},e.getValue=function(r){return e.isExist(r)?r:""},e.isName=i,e.getAllMatches=T,e.nameRegexp=u}(de)),de}var it;function kt(){if(it)return ce;it=1;const e=He(),l={allowBooleanAttributes:!1,unpairedTags:[]};ce.validate=function(c,f){f=Object.assign({},l,f);const P=[];let d=!1,m=!1;c[0]==="\uFEFF"&&(c=c.substr(1));for(let o=0;o<c.length;o++)if(c[o]==="<"&&c[o+1]==="?"){if(o+=2,o=u(c,o),o.err)return o}else if(c[o]==="<"){let N=o;if(o++,c[o]==="!"){o=E(c,o);continue}else{let b=!1;c[o]==="/"&&(b=!0,o++);let p="";for(;o<c.length&&c[o]!==">"&&c[o]!==" "&&c[o]!=="	"&&c[o]!==`
`&&c[o]!=="\r";o++)p+=c[o];if(p=p.trim(),p[p.length-1]==="/"&&(p=p.substring(0,p.length-1),o--),!I(p)){let g;return p.trim().length===0?g="Invalid space after '<'.":g="Tag '"+p+"' is an invalid name.",h("InvalidTag",g,x(c,o))}const O=r(c,o);if(O===!1)return h("InvalidAttr","Attributes for '"+p+"' have open quote.",x(c,o));let A=O.value;if(o=O.index,A[A.length-1]==="/"){const g=o-A.length;A=A.substring(0,A.length-1);const _=n(A,f);if(_===!0)d=!0;else return h(_.err.code,_.err.msg,x(c,g+_.err.line))}else if(b)if(O.tagClosed){if(A.trim().length>0)return h("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",x(c,N));if(P.length===0)return h("InvalidTag","Closing tag '"+p+"' has not been opened.",x(c,N));{const g=P.pop();if(p!==g.tagName){let _=x(c,g.tagStartPos);return h("InvalidTag","Expected closing tag '"+g.tagName+"' (opened in line "+_.line+", col "+_.col+") instead of closing tag '"+p+"'.",x(c,N))}P.length==0&&(m=!0)}}else return h("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",x(c,o));else{const g=n(A,f);if(g!==!0)return h(g.err.code,g.err.msg,x(c,o-A.length+g.err.line));if(m===!0)return h("InvalidXml","Multiple possible root nodes found.",x(c,o));f.unpairedTags.indexOf(p)!==-1||P.push({tagName:p,tagStartPos:N}),d=!0}for(o++;o<c.length;o++)if(c[o]==="<")if(c[o+1]==="!"){o++,o=E(c,o);continue}else if(c[o+1]==="?"){if(o=u(c,++o),o.err)return o}else break;else if(c[o]==="&"){const g=y(c,o);if(g==-1)return h("InvalidChar","char '&' is not expected.",x(c,o));o=g}else if(m===!0&&!t(c[o]))return h("InvalidXml","Extra text at the end",x(c,o));c[o]==="<"&&o--}}else{if(t(c[o]))continue;return h("InvalidChar","char '"+c[o]+"' is not expected.",x(c,o))}if(d){if(P.length==1)return h("InvalidTag","Unclosed tag '"+P[0].tagName+"'.",x(c,P[0].tagStartPos));if(P.length>0)return h("InvalidXml","Invalid '"+JSON.stringify(P.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return h("InvalidXml","Start tag expected.",1);return!0};function t(c){return c===" "||c==="	"||c===`
`||c==="\r"}function u(c,f){const P=f;for(;f<c.length;f++)if(c[f]=="?"||c[f]==" "){const d=c.substr(P,f-P);if(f>5&&d==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",x(c,f));if(c[f]=="?"&&c[f+1]==">"){f++;break}else continue}return f}function E(c,f){if(c.length>f+5&&c[f+1]==="-"&&c[f+2]==="-"){for(f+=3;f<c.length;f++)if(c[f]==="-"&&c[f+1]==="-"&&c[f+2]===">"){f+=2;break}}else if(c.length>f+8&&c[f+1]==="D"&&c[f+2]==="O"&&c[f+3]==="C"&&c[f+4]==="T"&&c[f+5]==="Y"&&c[f+6]==="P"&&c[f+7]==="E"){let P=1;for(f+=8;f<c.length;f++)if(c[f]==="<")P++;else if(c[f]===">"&&(P--,P===0))break}else if(c.length>f+9&&c[f+1]==="["&&c[f+2]==="C"&&c[f+3]==="D"&&c[f+4]==="A"&&c[f+5]==="T"&&c[f+6]==="A"&&c[f+7]==="["){for(f+=8;f<c.length;f++)if(c[f]==="]"&&c[f+1]==="]"&&c[f+2]===">"){f+=2;break}}return f}const T='"',i="'";function r(c,f){let P="",d="",m=!1;for(;f<c.length;f++){if(c[f]===T||c[f]===i)d===""?d=c[f]:d!==c[f]||(d="");else if(c[f]===">"&&d===""){m=!0;break}P+=c[f]}return d!==""?!1:{value:P,index:f,tagClosed:m}}const a=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function n(c,f){const P=e.getAllMatches(c,a),d={};for(let m=0;m<P.length;m++){if(P[m][1].length===0)return h("InvalidAttr","Attribute '"+P[m][2]+"' has no space in starting.",k(P[m]));if(P[m][3]!==void 0&&P[m][4]===void 0)return h("InvalidAttr","Attribute '"+P[m][2]+"' is without value.",k(P[m]));if(P[m][3]===void 0&&!f.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+P[m][2]+"' is not allowed.",k(P[m]));const o=P[m][2];if(!w(o))return h("InvalidAttr","Attribute '"+o+"' is an invalid name.",k(P[m]));if(!d.hasOwnProperty(o))d[o]=1;else return h("InvalidAttr","Attribute '"+o+"' is repeated.",k(P[m]))}return!0}function s(c,f){let P=/\d/;for(c[f]==="x"&&(f++,P=/[\da-fA-F]/);f<c.length;f++){if(c[f]===";")return f;if(!c[f].match(P))break}return-1}function y(c,f){if(f++,c[f]===";")return-1;if(c[f]==="#")return f++,s(c,f);let P=0;for(;f<c.length;f++,P++)if(!(c[f].match(/\w/)&&P<20)){if(c[f]===";")break;return-1}return f}function h(c,f,P){return{err:{code:c,msg:f,line:P.line||P,col:P.col}}}function w(c){return e.isName(c)}function I(c){return e.isName(c)}function x(c,f){const P=c.substring(0,f).split(/\r?\n/);return{line:P.length,col:P[P.length-1].length+1}}function k(c){return c.startIndex+c[1].length}return ce}var oe={},ot;function an(){if(ot)return oe;ot=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,u){return u},attributeValueProcessor:function(t,u){return u},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,u,E){return t}},l=function(t){return Object.assign({},e,t)};return oe.buildOptions=l,oe.defaultOptions=e,oe}var ue,at;function ln(){if(at)return ue;at=1;class e{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,u){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:u})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}return ue=e,ue}var fe,lt;function cn(){if(lt)return fe;lt=1;const e=He();function l(n,s){const y={};if(n[s+3]==="O"&&n[s+4]==="C"&&n[s+5]==="T"&&n[s+6]==="Y"&&n[s+7]==="P"&&n[s+8]==="E"){s=s+9;let h=1,w=!1,I=!1,x="";for(;s<n.length;s++)if(n[s]==="<"&&!I){if(w&&E(n,s))s+=7,[entityName,val,s]=t(n,s+1),val.indexOf("&")===-1&&(y[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(w&&T(n,s))s+=8;else if(w&&i(n,s))s+=8;else if(w&&r(n,s))s+=9;else if(u)I=!0;else throw new Error("Invalid DOCTYPE");h++,x=""}else if(n[s]===">"){if(I?n[s-1]==="-"&&n[s-2]==="-"&&(I=!1,h--):h--,h===0)break}else n[s]==="["?w=!0:x+=n[s];if(h!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:y,i:s}}function t(n,s){let y="";for(;s<n.length&&n[s]!=="'"&&n[s]!=='"';s++)y+=n[s];if(y=y.trim(),y.indexOf(" ")!==-1)throw new Error("External entites are not supported");const h=n[s++];let w="";for(;s<n.length&&n[s]!==h;s++)w+=n[s];return[y,w,s]}function u(n,s){return n[s+1]==="!"&&n[s+2]==="-"&&n[s+3]==="-"}function E(n,s){return n[s+1]==="!"&&n[s+2]==="E"&&n[s+3]==="N"&&n[s+4]==="T"&&n[s+5]==="I"&&n[s+6]==="T"&&n[s+7]==="Y"}function T(n,s){return n[s+1]==="!"&&n[s+2]==="E"&&n[s+3]==="L"&&n[s+4]==="E"&&n[s+5]==="M"&&n[s+6]==="E"&&n[s+7]==="N"&&n[s+8]==="T"}function i(n,s){return n[s+1]==="!"&&n[s+2]==="A"&&n[s+3]==="T"&&n[s+4]==="T"&&n[s+5]==="L"&&n[s+6]==="I"&&n[s+7]==="S"&&n[s+8]==="T"}function r(n,s){return n[s+1]==="!"&&n[s+2]==="N"&&n[s+3]==="O"&&n[s+4]==="T"&&n[s+5]==="A"&&n[s+6]==="T"&&n[s+7]==="I"&&n[s+8]==="O"&&n[s+9]==="N"}function a(n){if(e.isName(n))return n;throw new Error(`Invalid entity name ${n}`)}return fe=l,fe}var he,ct;function dn(){if(ct)return he;ct=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,l=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,t={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function u(i,r={}){if(r=Object.assign({},t,r),!i||typeof i!="string")return i;let a=i.trim();if(r.skipLike!==void 0&&r.skipLike.test(a))return i;if(i==="0")return 0;if(r.hex&&e.test(a))return T(a,16);if(a.search(/[eE]/)!==-1){const n=a.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(n){if(r.leadingZeros)a=(n[1]||"")+n[3];else if(!(n[2]==="0"&&n[3][0]==="."))return i;return r.eNotation?Number(a):i}else return i}else{const n=l.exec(a);if(n){const s=n[1],y=n[2];let h=E(n[3]);if(!r.leadingZeros&&y.length>0&&s&&a[2]!==".")return i;if(!r.leadingZeros&&y.length>0&&!s&&a[1]!==".")return i;if(r.leadingZeros&&y===i)return 0;{const w=Number(a),I=""+w;return I.search(/[eE]/)!==-1?r.eNotation?w:i:a.indexOf(".")!==-1?I==="0"&&h===""||I===h||s&&I==="-"+h?w:i:y?h===I||s+h===I?w:i:a===I||a===s+I?w:i}}else return i}}function E(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substr(0,i.length-1))),i}function T(i,r){if(parseInt)return parseInt(i,r);if(Number.parseInt)return Number.parseInt(i,r);if(window&&window.parseInt)return window.parseInt(i,r);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return he=u,he}var pe,dt;function un(){if(dt)return pe;dt=1;const e=He(),l=ln(),t=cn(),u=dn();class E{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(o,N)=>String.fromCharCode(Number.parseInt(N,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(o,N)=>String.fromCharCode(Number.parseInt(N,16))}},this.addExternalEntities=T,this.parseXml=s,this.parseTextData=i,this.resolveNameSpace=r,this.buildAttributesMap=n,this.isItStopNode=I,this.replaceEntitiesValue=h,this.readStopNodeData=f,this.saveTextToParentTag=w,this.addChild=y}}function T(d){const m=Object.keys(d);for(let o=0;o<m.length;o++){const N=m[o];this.lastEntities[N]={regex:new RegExp("&"+N+";","g"),val:d[N]}}}function i(d,m,o,N,b,p,O){if(d!==void 0&&(this.options.trimValues&&!N&&(d=d.trim()),d.length>0)){O||(d=this.replaceEntitiesValue(d));const A=this.options.tagValueProcessor(m,d,o,b,p);return A==null?d:typeof A!=typeof d||A!==d?A:this.options.trimValues?P(d,this.options.parseTagValue,this.options.numberParseOptions):d.trim()===d?P(d,this.options.parseTagValue,this.options.numberParseOptions):d}}function r(d){if(this.options.removeNSPrefix){const m=d.split(":"),o=d.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(d=o+m[1])}return d}const a=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function n(d,m,o){if(!this.options.ignoreAttributes&&typeof d=="string"){const N=e.getAllMatches(d,a),b=N.length,p={};for(let O=0;O<b;O++){const A=this.resolveNameSpace(N[O][1]);let g=N[O][4],_=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(_=this.options.transformAttributeName(_)),_==="__proto__"&&(_="#__proto__"),g!==void 0){this.options.trimValues&&(g=g.trim()),g=this.replaceEntitiesValue(g);const v=this.options.attributeValueProcessor(A,g,m);v==null?p[_]=g:typeof v!=typeof g||v!==g?p[_]=v:p[_]=P(g,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(p[_]=!0)}if(!Object.keys(p).length)return;if(this.options.attributesGroupName){const O={};return O[this.options.attributesGroupName]=p,O}return p}}const s=function(d){d=d.replace(/\r\n?/g,`
`);const m=new l("!xml");let o=m,N="",b="";for(let p=0;p<d.length;p++)if(d[p]==="<")if(d[p+1]==="/"){const A=k(d,">",p,"Closing Tag is not closed.");let g=d.substring(p+2,A).trim();if(this.options.removeNSPrefix){const z=g.indexOf(":");z!==-1&&(g=g.substr(z+1))}this.options.transformTagName&&(g=this.options.transformTagName(g)),o&&(N=this.saveTextToParentTag(N,o,b));const _=b.substring(b.lastIndexOf(".")+1);if(g&&this.options.unpairedTags.indexOf(g)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${g}>`);let v=0;_&&this.options.unpairedTags.indexOf(_)!==-1?(v=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):v=b.lastIndexOf("."),b=b.substring(0,v),o=this.tagsNodeStack.pop(),N="",p=A}else if(d[p+1]==="?"){let A=c(d,p,!1,"?>");if(!A)throw new Error("Pi Tag is not closed.");if(N=this.saveTextToParentTag(N,o,b),!(this.options.ignoreDeclaration&&A.tagName==="?xml"||this.options.ignorePiTags)){const g=new l(A.tagName);g.add(this.options.textNodeName,""),A.tagName!==A.tagExp&&A.attrExpPresent&&(g[":@"]=this.buildAttributesMap(A.tagExp,b,A.tagName)),this.addChild(o,g,b)}p=A.closeIndex+1}else if(d.substr(p+1,3)==="!--"){const A=k(d,"-->",p+4,"Comment is not closed.");if(this.options.commentPropName){const g=d.substring(p+4,A-2);N=this.saveTextToParentTag(N,o,b),o.add(this.options.commentPropName,[{[this.options.textNodeName]:g}])}p=A}else if(d.substr(p+1,2)==="!D"){const A=t(d,p);this.docTypeEntities=A.entities,p=A.i}else if(d.substr(p+1,2)==="!["){const A=k(d,"]]>",p,"CDATA is not closed.")-2,g=d.substring(p+9,A);N=this.saveTextToParentTag(N,o,b);let _=this.parseTextData(g,o.tagname,b,!0,!1,!0,!0);_==null&&(_=""),this.options.cdataPropName?o.add(this.options.cdataPropName,[{[this.options.textNodeName]:g}]):o.add(this.options.textNodeName,_),p=A+2}else{let A=c(d,p,this.options.removeNSPrefix),g=A.tagName;const _=A.rawTagName;let v=A.tagExp,z=A.attrExpPresent,tt=A.closeIndex;this.options.transformTagName&&(g=this.options.transformTagName(g)),o&&N&&o.tagname!=="!xml"&&(N=this.saveTextToParentTag(N,o,b,!1));const st=o;if(st&&this.options.unpairedTags.indexOf(st.tagname)!==-1&&(o=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),g!==m.tagname&&(b+=b?"."+g:g),this.isItStopNode(this.options.stopNodes,b,g)){let M="";if(v.length>0&&v.lastIndexOf("/")===v.length-1)g[g.length-1]==="/"?(g=g.substr(0,g.length-1),b=b.substr(0,b.length-1),v=g):v=v.substr(0,v.length-1),p=A.closeIndex;else if(this.options.unpairedTags.indexOf(g)!==-1)p=A.closeIndex;else{const le=this.readStopNodeData(d,_,tt+1);if(!le)throw new Error(`Unexpected end of ${_}`);p=le.i,M=le.tagContent}const ae=new l(g);g!==v&&z&&(ae[":@"]=this.buildAttributesMap(v,b,g)),M&&(M=this.parseTextData(M,g,b,!0,z,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),ae.add(this.options.textNodeName,M),this.addChild(o,ae,b)}else{if(v.length>0&&v.lastIndexOf("/")===v.length-1){g[g.length-1]==="/"?(g=g.substr(0,g.length-1),b=b.substr(0,b.length-1),v=g):v=v.substr(0,v.length-1),this.options.transformTagName&&(g=this.options.transformTagName(g));const M=new l(g);g!==v&&z&&(M[":@"]=this.buildAttributesMap(v,b,g)),this.addChild(o,M,b),b=b.substr(0,b.lastIndexOf("."))}else{const M=new l(g);this.tagsNodeStack.push(o),g!==v&&z&&(M[":@"]=this.buildAttributesMap(v,b,g)),this.addChild(o,M,b),o=M}N="",p=tt}}else N+=d[p];return m.child};function y(d,m,o){const N=this.options.updateTag(m.tagname,o,m[":@"]);N===!1||(typeof N=="string"&&(m.tagname=N),d.addChild(m))}const h=function(d){if(this.options.processEntities){for(let m in this.docTypeEntities){const o=this.docTypeEntities[m];d=d.replace(o.regx,o.val)}for(let m in this.lastEntities){const o=this.lastEntities[m];d=d.replace(o.regex,o.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){const o=this.htmlEntities[m];d=d.replace(o.regex,o.val)}d=d.replace(this.ampEntity.regex,this.ampEntity.val)}return d};function w(d,m,o,N){return d&&(N===void 0&&(N=Object.keys(m.child).length===0),d=this.parseTextData(d,m.tagname,o,!1,m[":@"]?Object.keys(m[":@"]).length!==0:!1,N),d!==void 0&&d!==""&&m.add(this.options.textNodeName,d),d=""),d}function I(d,m,o){const N="*."+o;for(const b in d){const p=d[b];if(N===p||m===p)return!0}return!1}function x(d,m,o=">"){let N,b="";for(let p=m;p<d.length;p++){let O=d[p];if(N)O===N&&(N="");else if(O==='"'||O==="'")N=O;else if(O===o[0])if(o[1]){if(d[p+1]===o[1])return{data:b,index:p}}else return{data:b,index:p};else O==="	"&&(O=" ");b+=O}}function k(d,m,o,N){const b=d.indexOf(m,o);if(b===-1)throw new Error(N);return b+m.length-1}function c(d,m,o,N=">"){const b=x(d,m+1,N);if(!b)return;let p=b.data;const O=b.index,A=p.search(/\s/);let g=p,_=!0;A!==-1&&(g=p.substring(0,A),p=p.substring(A+1).trimStart());const v=g;if(o){const z=g.indexOf(":");z!==-1&&(g=g.substr(z+1),_=g!==b.data.substr(z+1))}return{tagName:g,tagExp:p,closeIndex:O,attrExpPresent:_,rawTagName:v}}function f(d,m,o){const N=o;let b=1;for(;o<d.length;o++)if(d[o]==="<")if(d[o+1]==="/"){const p=k(d,">",o,`${m} is not closed`);if(d.substring(o+2,p).trim()===m&&(b--,b===0))return{tagContent:d.substring(N,o),i:p};o=p}else if(d[o+1]==="?")o=k(d,"?>",o+1,"StopNode is not closed.");else if(d.substr(o+1,3)==="!--")o=k(d,"-->",o+3,"StopNode is not closed.");else if(d.substr(o+1,2)==="![")o=k(d,"]]>",o,"StopNode is not closed.")-2;else{const p=c(d,o,">");p&&((p&&p.tagName)===m&&p.tagExp[p.tagExp.length-1]!=="/"&&b++,o=p.closeIndex)}}function P(d,m,o){if(m&&typeof d=="string"){const N=d.trim();return N==="true"?!0:N==="false"?!1:u(d,o)}else return e.isExist(d)?d:""}return pe=E,pe}var ge={},ut;function fn(){if(ut)return ge;ut=1;function e(T,i){return l(T,i)}function l(T,i,r){let a;const n={};for(let s=0;s<T.length;s++){const y=T[s],h=t(y);let w="";if(r===void 0?w=h:w=r+"."+h,h===i.textNodeName)a===void 0?a=y[h]:a+=""+y[h];else{if(h===void 0)continue;if(y[h]){let I=l(y[h],i,w);const x=E(I,i);y[":@"]?u(I,y[":@"],w,i):Object.keys(I).length===1&&I[i.textNodeName]!==void 0&&!i.alwaysCreateTextNode?I=I[i.textNodeName]:Object.keys(I).length===0&&(i.alwaysCreateTextNode?I[i.textNodeName]="":I=""),n[h]!==void 0&&n.hasOwnProperty(h)?(Array.isArray(n[h])||(n[h]=[n[h]]),n[h].push(I)):i.isArray(h,w,x)?n[h]=[I]:n[h]=I}}}return typeof a=="string"?a.length>0&&(n[i.textNodeName]=a):a!==void 0&&(n[i.textNodeName]=a),n}function t(T){const i=Object.keys(T);for(let r=0;r<i.length;r++){const a=i[r];if(a!==":@")return a}}function u(T,i,r,a){if(i){const n=Object.keys(i),s=n.length;for(let y=0;y<s;y++){const h=n[y];a.isArray(h,r+"."+h,!0,!0)?T[h]=[i[h]]:T[h]=i[h]}}}function E(T,i){const{textNodeName:r}=i,a=Object.keys(T).length;return!!(a===0||a===1&&(T[r]||typeof T[r]=="boolean"||T[r]===0))}return ge.prettify=e,ge}var me,ft;function hn(){if(ft)return me;ft=1;const{buildOptions:e}=an(),l=un(),{prettify:t}=fn(),u=kt();class E{constructor(i){this.externalEntities={},this.options=e(i)}parse(i,r){if(typeof i!="string")if(i.toString)i=i.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=u.validate(i,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const a=new l(this.options);a.addExternalEntities(this.externalEntities);const n=a.parseXml(i);return this.options.preserveOrder||n===void 0?n:t(n,this.options)}addEntity(i,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(i.indexOf("&")!==-1||i.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[i]=r}}return me=E,me}var Ee,ht;function pn(){if(ht)return Ee;ht=1;const e=`
`;function l(r,a){let n="";return a.format&&a.indentBy.length>0&&(n=e),t(r,a,"",n)}function t(r,a,n,s){let y="",h=!1;for(let w=0;w<r.length;w++){const I=r[w],x=u(I);if(x===void 0)continue;let k="";if(n.length===0?k=x:k=`${n}.${x}`,x===a.textNodeName){let m=I[x];T(k,a)||(m=a.tagValueProcessor(x,m),m=i(m,a)),h&&(y+=s),y+=m,h=!1;continue}else if(x===a.cdataPropName){h&&(y+=s),y+=`<![CDATA[${I[x][0][a.textNodeName]}]]>`,h=!1;continue}else if(x===a.commentPropName){y+=s+`<!--${I[x][0][a.textNodeName]}-->`,h=!0;continue}else if(x[0]==="?"){const m=E(I[":@"],a),o=x==="?xml"?"":s;let N=I[x][0][a.textNodeName];N=N.length!==0?" "+N:"",y+=o+`<${x}${N}${m}?>`,h=!0;continue}let c=s;c!==""&&(c+=a.indentBy);const f=E(I[":@"],a),P=s+`<${x}${f}`,d=t(I[x],a,k,c);a.unpairedTags.indexOf(x)!==-1?a.suppressUnpairedNode?y+=P+">":y+=P+"/>":(!d||d.length===0)&&a.suppressEmptyNode?y+=P+"/>":d&&d.endsWith(">")?y+=P+`>${d}${s}</${x}>`:(y+=P+">",d&&s!==""&&(d.includes("/>")||d.includes("</"))?y+=s+a.indentBy+d+s:y+=d,y+=`</${x}>`),h=!0}return y}function u(r){const a=Object.keys(r);for(let n=0;n<a.length;n++){const s=a[n];if(r.hasOwnProperty(s)&&s!==":@")return s}}function E(r,a){let n="";if(r&&!a.ignoreAttributes)for(let s in r){if(!r.hasOwnProperty(s))continue;let y=a.attributeValueProcessor(s,r[s]);y=i(y,a),y===!0&&a.suppressBooleanAttributes?n+=` ${s.substr(a.attributeNamePrefix.length)}`:n+=` ${s.substr(a.attributeNamePrefix.length)}="${y}"`}return n}function T(r,a){r=r.substr(0,r.length-a.textNodeName.length-1);let n=r.substr(r.lastIndexOf(".")+1);for(let s in a.stopNodes)if(a.stopNodes[s]===r||a.stopNodes[s]==="*."+n)return!0;return!1}function i(r,a){if(r&&r.length>0&&a.processEntities)for(let n=0;n<a.entities.length;n++){const s=a.entities[n];r=r.replace(s.regex,s.val)}return r}return Ee=l,Ee}var ye,pt;function gn(){if(pt)return ye;pt=1;const e=pn(),l={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,r){return r},attributeValueProcessor:function(i,r){return r},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function t(i){this.options=Object.assign({},l,i),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=T),this.processTextOrObjNode=u,this.options.format?(this.indentate=E,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}t.prototype.build=function(i){return this.options.preserveOrder?e(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0).val)},t.prototype.j2x=function(i,r){let a="",n="";for(let s in i)if(Object.prototype.hasOwnProperty.call(i,s))if(typeof i[s]>"u")this.isAttribute(s)&&(n+="");else if(i[s]===null)this.isAttribute(s)?n+="":s[0]==="?"?n+=this.indentate(r)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(r)+"<"+s+"/"+this.tagEndChar;else if(i[s]instanceof Date)n+=this.buildTextValNode(i[s],s,"",r);else if(typeof i[s]!="object"){const y=this.isAttribute(s);if(y)a+=this.buildAttrPairStr(y,""+i[s]);else if(s===this.options.textNodeName){let h=this.options.tagValueProcessor(s,""+i[s]);n+=this.replaceEntitiesValue(h)}else n+=this.buildTextValNode(i[s],s,"",r)}else if(Array.isArray(i[s])){const y=i[s].length;let h="",w="";for(let I=0;I<y;I++){const x=i[s][I];if(!(typeof x>"u"))if(x===null)s[0]==="?"?n+=this.indentate(r)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(r)+"<"+s+"/"+this.tagEndChar;else if(typeof x=="object")if(this.options.oneListGroup){const k=this.j2x(x,r+1);h+=k.val,this.options.attributesGroupName&&x.hasOwnProperty(this.options.attributesGroupName)&&(w+=k.attrStr)}else h+=this.processTextOrObjNode(x,s,r);else if(this.options.oneListGroup){let k=this.options.tagValueProcessor(s,x);k=this.replaceEntitiesValue(k),h+=k}else h+=this.buildTextValNode(x,s,"",r)}this.options.oneListGroup&&(h=this.buildObjectNode(h,s,w,r)),n+=h}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const y=Object.keys(i[s]),h=y.length;for(let w=0;w<h;w++)a+=this.buildAttrPairStr(y[w],""+i[s][y[w]])}else n+=this.processTextOrObjNode(i[s],s,r);return{attrStr:a,val:n}},t.prototype.buildAttrPairStr=function(i,r){return r=this.options.attributeValueProcessor(i,""+r),r=this.replaceEntitiesValue(r),this.options.suppressBooleanAttributes&&r==="true"?" "+i:" "+i+'="'+r+'"'};function u(i,r,a){const n=this.j2x(i,a+1);return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],r,n.attrStr,a):this.buildObjectNode(n.val,r,n.attrStr,a)}t.prototype.buildObjectNode=function(i,r,a,n){if(i==="")return r[0]==="?"?this.indentate(n)+"<"+r+a+"?"+this.tagEndChar:this.indentate(n)+"<"+r+a+this.closeTag(r)+this.tagEndChar;{let s="</"+r+this.tagEndChar,y="";return r[0]==="?"&&(y="?",s=""),(a||a==="")&&i.indexOf("<")===-1?this.indentate(n)+"<"+r+a+y+">"+i+s:this.options.commentPropName!==!1&&r===this.options.commentPropName&&y.length===0?this.indentate(n)+`<!--${i}-->`+this.newLine:this.indentate(n)+"<"+r+a+y+this.tagEndChar+i+this.indentate(n)+s}},t.prototype.closeTag=function(i){let r="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(r="/"):this.options.suppressEmptyNode?r="/":r=`></${i}`,r},t.prototype.buildTextValNode=function(i,r,a,n){if(this.options.cdataPropName!==!1&&r===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&r===this.options.commentPropName)return this.indentate(n)+`<!--${i}-->`+this.newLine;if(r[0]==="?")return this.indentate(n)+"<"+r+a+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(r,i);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+r+a+this.closeTag(r)+this.tagEndChar:this.indentate(n)+"<"+r+a+">"+s+"</"+r+this.tagEndChar}},t.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let r=0;r<this.options.entities.length;r++){const a=this.options.entities[r];i=i.replace(a.regex,a.val)}return i};function E(i){return this.options.indentBy.repeat(i)}function T(i){return i.startsWith(this.options.attributeNamePrefix)&&i!==this.options.textNodeName?i.substr(this.attrPrefixLen):!1}return ye=t,ye}var be,gt;function mn(){if(gt)return be;gt=1;const e=kt(),l=hn(),t=gn();return be={XMLParser:l,XMLValidator:e,XMLBuilder:t},be}var En=mn();const Xe=(e,l)=>is(e,l).then(t=>{if(t.length){const u=new En.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,n)=>n.trim()===""&&n.includes(`
`)?"":void 0});u.addEntity("#xD","\r"),u.addEntity("#10",`
`);let E;try{E=u.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}const T="#text",i=Object.keys(E)[0],r=E[i];return r[T]&&(r[i]=r[T],delete r[T]),Ot(r)}return{}}),yn=async(e,l)=>{const t=await Xe(e,l);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},bn=async(e,l,t)=>({operation:ls(l).operation,region:await as(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Nn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(l,t)=>({signingProperties:{config:l,context:t}})}}function Pn(e){return{schemeId:"smithy.api#noAuth"}}const An=e=>{const l=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{l.push(Pn());break}default:l.push(Nn(e))}return l},Tn=e=>Object.assign(e,{stsClientCtor:Ge}),xn=e=>{const l=Tn(e),t=os(l);return Object.assign(t,{})},In=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$t={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},wn="3.782.0",Sn={version:wn},Ft="required",S="type",C="fn",R="argv",J="ref",mt=!1,Ne=!0,K="booleanEquals",V="stringEquals",Vt="sigv4",Lt="sts",qt="us-east-1",$="endpoint",Et="https://sts.{Region}.{PartitionResult#dnsSuffix}",H="tree",Y="error",je="getAttr",yt={[Ft]:!1,[S]:"String"},Pe={[Ft]:!0,default:!1,[S]:"Boolean"},Ut={[J]:"Endpoint"},bt={[C]:"isSet",[R]:[{[J]:"Region"}]},L={[J]:"Region"},Nt={[C]:"aws.partition",[R]:[L],assign:"PartitionResult"},Wt={[J]:"UseFIPS"},Bt={[J]:"UseDualStack"},W={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Vt,signingName:Lt,signingRegion:qt}]},headers:{}},B={},Pt={conditions:[{[C]:V,[R]:[L,"aws-global"]}],[$]:W,[S]:$},Mt={[C]:K,[R]:[Wt,!0]},zt={[C]:K,[R]:[Bt,!0]},At={[C]:je,[R]:[{[J]:"PartitionResult"},"supportsFIPS"]},Ht={[J]:"PartitionResult"},Tt={[C]:K,[R]:[!0,{[C]:je,[R]:[Ht,"supportsDualStack"]}]},xt=[{[C]:"isSet",[R]:[Ut]}],It=[Mt],wt=[zt],vn={parameters:{Region:yt,UseDualStack:Pe,UseFIPS:Pe,Endpoint:yt,UseGlobalEndpoint:Pe},rules:[{conditions:[{[C]:K,[R]:[{[J]:"UseGlobalEndpoint"},Ne]},{[C]:"not",[R]:xt},bt,Nt,{[C]:K,[R]:[Wt,mt]},{[C]:K,[R]:[Bt,mt]}],rules:[{conditions:[{[C]:V,[R]:[L,"ap-northeast-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"ap-south-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"ap-southeast-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"ap-southeast-2"]}],endpoint:W,[S]:$},Pt,{conditions:[{[C]:V,[R]:[L,"ca-central-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"eu-central-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"eu-north-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"eu-west-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"eu-west-2"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"eu-west-3"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"sa-east-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,qt]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"us-east-2"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"us-west-1"]}],endpoint:W,[S]:$},{conditions:[{[C]:V,[R]:[L,"us-west-2"]}],endpoint:W,[S]:$},{endpoint:{url:Et,properties:{authSchemes:[{name:Vt,signingName:Lt,signingRegion:"{Region}"}]},headers:B},[S]:$}],[S]:H},{conditions:xt,rules:[{conditions:It,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[S]:Y},{conditions:wt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[S]:Y},{endpoint:{url:Ut,properties:B,headers:B},[S]:$}],[S]:H},{conditions:[bt],rules:[{conditions:[Nt],rules:[{conditions:[Mt,zt],rules:[{conditions:[{[C]:K,[R]:[Ne,At]},Tt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:B,headers:B},[S]:$}],[S]:H},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[S]:Y}],[S]:H},{conditions:It,rules:[{conditions:[{[C]:K,[R]:[At,Ne]}],rules:[{conditions:[{[C]:V,[R]:[{[C]:je,[R]:[Ht,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:B,headers:B},[S]:$},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:B,headers:B},[S]:$}],[S]:H},{error:"FIPS is enabled but this partition does not support FIPS",[S]:Y}],[S]:H},{conditions:wt,rules:[{conditions:[Tt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:B,headers:B},[S]:$}],[S]:H},{error:"DualStack is enabled but this partition does not support DualStack",[S]:Y}],[S]:H},Pt,{endpoint:{url:Et,properties:B,headers:B},[S]:$}],[S]:H}],[S]:H},{error:"Invalid Configuration: Missing Region",[S]:Y}]},Cn=vn,Rn=new cs({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),_n=(e,l={})=>Rn.get(e,()=>ds(Cn,{endpointParams:e,logger:l.logger}));fs.aws=us;const On=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??Ds,base64Encoder:(e==null?void 0:e.base64Encoder)??Qs,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??_n,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??An,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:l=>l.getIdentityProvider("aws.auth#sigv4"),signer:new gs},{schemeId:"smithy.api#noAuth",identityProvider:l=>l.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ms}],logger:(e==null?void 0:e.logger)??new ps,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??hs,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Ys,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Zs}),kn=e=>{const l=Es(e),t=()=>l().then(ws),u=On(e);return{...u,...e,runtime:"browser",defaultsMode:l,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Ts,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(E=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??As({serviceId:u.serviceId,clientVersion:Sn.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??Ps,region:(e==null?void 0:e.region)??Ns("Region is missing"),requestHandler:tn.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||bs),sha256:(e==null?void 0:e.sha256)??ys,streamCollector:(e==null?void 0:e.streamCollector)??en,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Is)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(xs))}},$n=e=>{const l=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,u=e.credentials;return{setHttpAuthScheme(E){const T=l.findIndex(i=>i.schemeId===E.schemeId);T===-1?l.push(E):l.splice(T,1,E)},httpAuthSchemes(){return l},setHttpAuthSchemeProvider(E){t=E},httpAuthSchemeProvider(){return t},setCredentials(E){u=E},credentials(){return u}}},Fn=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Vn=(e,l)=>{const t=Object.assign(Ss(e),vs(e),Cs(e),$n(e));return l.forEach(u=>u.configure(t)),Object.assign(e,Rs(t),_s(t),Os(t),Fn(t))};class Ge extends ks{constructor(...[t]){const u=kn(t||{});super(u);U(this,"config");this.initConfig=u;const E=In(u),T=$s(E),i=Fs(T),r=Vs(i),a=js(r),n=Ls(a),s=xn(n),y=Vn(s,(t==null?void 0:t.extensions)||[]);this.config=y,this.middlewareStack.use(qs(this.config)),this.middlewareStack.use(Us(this.config)),this.middlewareStack.use(Ws(this.config)),this.middlewareStack.use(Bs(this.config)),this.middlewareStack.use(Ms(this.config)),this.middlewareStack.use(zs(this.config)),this.middlewareStack.use(Hs(this.config,{httpAuthSchemeParametersProvider:bn,identityProviderConfigProvider:async h=>new Gs({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Xs(this.config))}destroy(){super.destroy()}}class X extends Ks{constructor(l){super(l),Object.setPrototypeOf(this,X.prototype)}}const Xt=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:St}}),Ln=e=>({...e,...e.Credentials&&{Credentials:Xt(e.Credentials)}});class Ke extends X{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});U(this,"name","ExpiredTokenException");U(this,"$fault","client");Object.setPrototypeOf(this,Ke.prototype)}}class Je extends X{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t});U(this,"name","MalformedPolicyDocumentException");U(this,"$fault","client");Object.setPrototypeOf(this,Je.prototype)}}class Ze extends X{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t});U(this,"name","PackedPolicyTooLargeException");U(this,"$fault","client");Object.setPrototypeOf(this,Ze.prototype)}}class Ye extends X{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t});U(this,"name","RegionDisabledException");U(this,"$fault","client");Object.setPrototypeOf(this,Ye.prototype)}}class Qe extends X{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t});U(this,"name","IDPRejectedClaimException");U(this,"$fault","client");Object.setPrototypeOf(this,Qe.prototype)}}class De extends X{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t});U(this,"name","InvalidIdentityTokenException");U(this,"$fault","client");Object.setPrototypeOf(this,De.prototype)}}const qn=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:St}}),Un=e=>({...e,...e.Credentials&&{Credentials:Xt(e.Credentials)}});class et extends X{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t});U(this,"name","IDPCommunicationErrorException");U(this,"$fault","client");Object.setPrototypeOf(this,et.prototype)}}const Wn=async(e,l)=>{const t=Yt;let u;return u=ts({...Yn(e),[Dt]:gr,[es]:Qt}),Zt(l,t,"/",void 0,u)},Bn=async(e,l)=>{const t=Yt;let u;return u=ts({...Qn(e),[Dt]:mr,[es]:Qt}),Zt(l,t,"/",void 0,u)},Mn=async(e,l)=>{if(e.statusCode>=300)return jt(e,l);const t=await Xe(e.body,l);let u={};return u=ir(t.AssumeRoleResult),{$metadata:G(e),...u}},zn=async(e,l)=>{if(e.statusCode>=300)return jt(e,l);const t=await Xe(e.body,l);let u={};return u=or(t.AssumeRoleWithWebIdentityResult),{$metadata:G(e),...u}},jt=async(e,l)=>{const t={...e,body:await yn(e.body,l)},u=Er(e,t.body);switch(u){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Hn(t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Kn(t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Jn(t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Zn(t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Xn(t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await jn(t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Gn(t);default:const E=t.body;return pr({output:e,parsedBody:E.Error,errorCode:u})}},Hn=async(e,l)=>{const t=e.body,u=ar(t.Error),E=new Ke({$metadata:G(e),...u});return Z(E,t)},Xn=async(e,l)=>{const t=e.body,u=lr(t.Error),E=new et({$metadata:G(e),...u});return Z(E,t)},jn=async(e,l)=>{const t=e.body,u=cr(t.Error),E=new Qe({$metadata:G(e),...u});return Z(E,t)},Gn=async(e,l)=>{const t=e.body,u=dr(t.Error),E=new De({$metadata:G(e),...u});return Z(E,t)},Kn=async(e,l)=>{const t=e.body,u=ur(t.Error),E=new Je({$metadata:G(e),...u});return Z(E,t)},Jn=async(e,l)=>{const t=e.body,u=fr(t.Error),E=new Ze({$metadata:G(e),...u});return Z(E,t)},Zn=async(e,l)=>{const t=e.body,u=hr(t.Error),E=new Ye({$metadata:G(e),...u});return Z(E,t)},Yn=(e,l)=>{var u,E,T,i;const t={};if(e[re]!=null&&(t[re]=e[re]),e[ie]!=null&&(t[ie]=e[ie]),e[se]!=null){const r=Gt(e[se]);((u=e[se])==null?void 0:u.length)===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([a,n])=>{const s=`PolicyArns.${a}`;t[s]=n})}if(e[te]!=null&&(t[te]=e[te]),e[ee]!=null&&(t[ee]=e[ee]),e[qe]!=null){const r=rr(e[qe]);((E=e[qe])==null?void 0:E.length)===0&&(t.Tags=[]),Object.entries(r).forEach(([a,n])=>{const s=`Tags.${a}`;t[s]=n})}if(e[We]!=null){const r=nr(e[We]);((T=e[We])==null?void 0:T.length)===0&&(t.TransitiveTagKeys=[]),Object.entries(r).forEach(([a,n])=>{const s=`TransitiveTagKeys.${a}`;t[s]=n})}if(e[ve]!=null&&(t[ve]=e[ve]),e[Ve]!=null&&(t[Ve]=e[Ve]),e[Ue]!=null&&(t[Ue]=e[Ue]),e[j]!=null&&(t[j]=e[j]),e[_e]!=null){const r=tr(e[_e]);((i=e[_e])==null?void 0:i.length)===0&&(t.ProvidedContexts=[]),Object.entries(r).forEach(([a,n])=>{const s=`ProvidedContexts.${a}`;t[s]=n})}return t},Qn=(e,l)=>{var u;const t={};if(e[re]!=null&&(t[re]=e[re]),e[ie]!=null&&(t[ie]=e[ie]),e[Me]!=null&&(t[Me]=e[Me]),e[Oe]!=null&&(t[Oe]=e[Oe]),e[se]!=null){const E=Gt(e[se]);((u=e[se])==null?void 0:u.length)===0&&(t.PolicyArns=[]),Object.entries(E).forEach(([T,i])=>{const r=`PolicyArns.${T}`;t[r]=i})}return e[te]!=null&&(t[te]=e[te]),e[ee]!=null&&(t[ee]=e[ee]),t},Gt=(e,l)=>{const t={};let u=1;for(const E of e){if(E===null)continue;const T=Dn(E);Object.entries(T).forEach(([i,r])=>{t[`member.${u}.${i}`]=r}),u++}return t},Dn=(e,l)=>{const t={};return e[ze]!=null&&(t[ze]=e[ze]),t},er=(e,l)=>{const t={};return e[Re]!=null&&(t[Re]=e[Re]),e[we]!=null&&(t[we]=e[we]),t},tr=(e,l)=>{const t={};let u=1;for(const E of e){if(E===null)continue;const T=er(E);Object.entries(T).forEach(([i,r])=>{t[`member.${u}.${i}`]=r}),u++}return t},sr=(e,l)=>{const t={};return e[Ce]!=null&&(t[Ce]=e[Ce]),e[Be]!=null&&(t[Be]=e[Be]),t},nr=(e,l)=>{const t={};let u=1;for(const E of e)E!==null&&(t[`member.${u}`]=E,u++);return t},rr=(e,l)=>{const t={};let u=1;for(const E of e){if(E===null)continue;const T=sr(E);Object.entries(T).forEach(([i,r])=>{t[`member.${u}.${i}`]=r}),u++}return t},Kt=(e,l)=>{const t={};return e[Te]!=null&&(t[Te]=q(e[Te])),e[xe]!=null&&(t[xe]=q(e[xe])),t},ir=(e,l)=>{const t={};return e[D]!=null&&(t[D]=Jt(e[D])),e[Q]!=null&&(t[Q]=Kt(e[Q])),e[ne]!=null&&(t[ne]=Rt(e[ne])),e[j]!=null&&(t[j]=q(e[j])),t},or=(e,l)=>{const t={};return e[D]!=null&&(t[D]=Jt(e[D])),e[Fe]!=null&&(t[Fe]=q(e[Fe])),e[Q]!=null&&(t[Q]=Kt(e[Q])),e[ne]!=null&&(t[ne]=Rt(e[ne])),e[ke]!=null&&(t[ke]=q(e[ke])),e[Ie]!=null&&(t[Ie]=q(e[Ie])),e[j]!=null&&(t[j]=q(e[j])),t},Jt=(e,l)=>{const t={};return e[Ae]!=null&&(t[Ae]=q(e[Ae])),e[$e]!=null&&(t[$e]=q(e[$e])),e[Le]!=null&&(t[Le]=q(e[Le])),e[Se]!=null&&(t[Se]=nn(rn(e[Se]))),t},ar=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},lr=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},cr=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},dr=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},ur=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},fr=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},hr=(e,l)=>{const t={};return e[F]!=null&&(t[F]=q(e[F])),t},G=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),pr=Js(X),Zt=async(e,l,t,u,E)=>{const{hostname:T,protocol:i="https",port:r,path:a}=await e.endpoint(),n={protocol:i,hostname:T,port:r,method:"POST",path:a.endsWith("/")?a.slice(0,-1)+t:a+t,headers:l};return E!==void 0&&(n.body=E),new sn(n)},Yt={"content-type":"application/x-www-form-urlencoded"},Qt="2011-06-15",Dt="Action",Ae="AccessKeyId",gr="AssumeRole",Te="AssumedRoleId",Q="AssumedRoleUser",mr="AssumeRoleWithWebIdentity",xe="Arn",Ie="Audience",D="Credentials",we="ContextAssertion",ee="DurationSeconds",Se="Expiration",ve="ExternalId",Ce="Key",te="Policy",se="PolicyArns",Re="ProviderArn",_e="ProvidedContexts",Oe="ProviderId",ne="PackedPolicySize",ke="Provider",re="RoleArn",ie="RoleSessionName",$e="SecretAccessKey",Fe="SubjectFromWebIdentityToken",j="SourceIdentity",Ve="SerialNumber",Le="SessionToken",qe="Tags",Ue="TokenCode",We="TransitiveTagKeys",es="Version",Be="Value",Me="WebIdentityToken",ze="arn",F="message",ts=e=>Object.entries(e).map(([l,t])=>nt(l)+"="+nt(t)).join("&"),Er=(e,l)=>{var t;if(((t=l.Error)==null?void 0:t.Code)!==void 0)return l.Error.Code;if(e.statusCode==404)return"NotFound"};class ss extends vt.classBuilder().ep($t).m(function(l,t,u,E){return[_t(u,this.serialize,this.deserialize),Ct(u,l.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Ln).ser(Wn).de(Mn).build(){}class yr extends vt.classBuilder().ep($t).m(function(l,t,u,E){return[_t(u,this.serialize,this.deserialize),Ct(u,l.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(qn,Un).ser(Bn).de(zn).build(){}const br={AssumeRoleCommand:ss,AssumeRoleWithWebIdentityCommand:yr};class Nr extends Ge{}on(br,Nr);const xr=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:ss,STSClient:Ge},Symbol.toStringTag,{value:"Module"}));export{yr as A,Xt as C,Ke as E,Qe as I,Je as M,Ze as P,Ye as R,Ge as S,X as a,Nr as b,ss as c,Ln as d,De as e,qn as f,Un as g,et as h,xr as l};
